{% load static %}
<script>
    // Used in install_app.js, push_notifications.js
    const serviceWorkerFile = '{% static 'js/service_worker.js' %}';
    const saveWebPushSubscriptionApi = '{% url 'notification.web_push_subscribe' %}';
    const webPushKeysApi = '{% url 'notification.web_push_keys' %}';
    const userProfileUrl = '{% url 'user.profile' username='__PLACEHOLDER__' %}';
</script>
<script src="{% static 'js/core.js' %}"></script>
<script src="{% static 'js/install_app.js' %}"></script>
<script src="{% static 'js/push_notifications.js' %}"></script>

<script>
    toastr.options.closeDuration = 10000;
    toastr.options.progressBar = true;
    toastr.options.escapeHtml = false;

    {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'success' %}
            toastr.success('{{message}}');
            {% elif message.tags == 'error' %}
            toastr.error('{{message}}');
            {% elif message.tags == 'warning' %}
            toastr.warning('{{message}}');
            {% elif message.tags == 'info' %}
            toastr.info('{{message}}');
            {% endif %}
        {% endfor %}
    {% endif %}
</script>
